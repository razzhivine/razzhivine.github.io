document.addEventListener("DOMContentLoaded", function(){
    
  let filterItems = document.querySelectorAll('.filter__step-item[data-step="1"]');

  filterItems.forEach(item => {
    item.addEventListener(
      'click',
      () => {
        let steps = document.querySelectorAll('.filter__step-item[data-step="'+ item.dataset.step +'"]');
        steps.forEach(step => {
          step.parentNode.parentNode.classList.remove('-active');
          step.parentNode.parentNode.classList.add('-disabled');
        })
        item.parentNode.parentNode.classList.remove('-disabled');
        item.parentNode.parentNode.classList.add('-active');
        
        let subSteps = document.querySelector('.filter__sub-step[data-subStep="'+ item.dataset.substep +'"]');
        subSteps.classList.add('-active');
      }
    );
  });

  let filterSubItems = document.querySelectorAll('.step-one');
  filterSubItems.forEach(item => {
    item.addEventListener(
      'click',
      () => {
        let steps = document.querySelectorAll('.step-two');
        steps.forEach(step => {
          step.classList.remove('-active');
        })
        let curStep = document.querySelector('.step-two[data-subStep="'+ item.dataset.substep +'"]');
        document.querySelectorAll('.step-one').forEach(item => {
          item.classList.remove('-active');
        })
        item.classList.add('-active');
        curStep.classList.add('-active');

        let stepsThree = document.querySelectorAll('.step-three');
        stepsThree.forEach(step => {
          step.classList.remove('-active');
        })

        let filterTech = document.querySelectorAll('.filter__tech');
        filterTech.forEach(item => {
          item.classList.remove('-active');
        })
        let slider = document.getElementById('slider');
        slider.classList.remove('-active');
        
        let subSteps = document.querySelectorAll('.step-two .filter__sub-step-item');
        subSteps.forEach(item => {
          item.classList.remove('-active');
        })
      }
    );
  });

  let filterSubSubItems = document.querySelectorAll('.monitor .step-two .filter__sub-step-item');
  filterSubSubItems.forEach(item => {
    item.addEventListener(
      'click',
      () => {
        let steps = document.querySelectorAll('.step-three');
        steps.forEach(step => {
          step.classList.remove('-active');
          step.classList.add('-disabled');
        })
        let curStep = document.querySelector('.step-three[data-subStep="'+ item.dataset.substep +'"]');
        document.querySelectorAll('.step-two .filter__sub-step-item' ).forEach(item => {
          item.classList.remove('-active');
        })
        console.log(item)
        item.classList.add('-active');
        curStep.classList.add('-active');

        let filterTech = document.querySelectorAll('.filter__tech');
        filterTech.forEach(item => {
          item.classList.remove('-active');
        })
        let slider = document.getElementById('slider');
        slider.classList.remove('-active');

            
        let subSteps = document.querySelectorAll('.step-three .filter__sub-step-item');
        subSteps.forEach(item => {
          item.classList.remove('-active');
        })
      }
    );
  });

  let filterImagesItems = document.querySelectorAll('.filter__sub-step-item[data-showImage]');
  filterImagesItems.forEach(item => {
    item.addEventListener(
      'click',
      () => {
        let slider = document.getElementById('slider');
        let image = document.getElementById('image');
        image.src = item.dataset.showimage;
        slider.classList.add('-active');
        let items = document.querySelectorAll('.filter__sub-step-item[data-showImage]');
        items.forEach(item => {
          item.classList.remove('-active');
        })
        item.classList.add('-active');
      }
    )
  });

  let filterTechItems = document.querySelectorAll('.filter__sub-step-item[data-type]');
  filterTechItems.forEach(item => {
    item.addEventListener(
      'click',
      () => {
        let techItems = document.querySelectorAll('.filter__tech');
        techItems.forEach(tech => {
          tech.classList.remove('-active');
        })
        let block = document.querySelector(".filter__tech[data-type='"+ item.dataset.type +"']")
        block.classList.add('-active')

        filterTechItems.forEach(item =>{
          item.classList.remove('-active')
        })

        item.classList.add('-active')
        
      }
    )
  });

  let retryBtn = document.querySelectorAll('.filter__retry');
  retryBtn.forEach(item => {
    item.addEventListener(
      'click',
      () => {
        console.log(retryBtn);
        let steps = document.querySelectorAll('.filter__step');
        let subStep = document.querySelectorAll('.filter__sub-step');
        let stepOne = document.querySelectorAll('.step-one');
        let stepTwo = document.querySelectorAll('.step-two');
        let stepThree = document.querySelectorAll('.step-three');
        let subSteps = document.querySelectorAll('.filter__sub-step-item');
        let techs = document.querySelectorAll('.filter__tech');
        let slider = document.getElementById('slider');

        subStep.forEach(item => {
          item.classList.remove('-disabled')
          item.classList.remove('-active')
        });

        steps.forEach(item => {
          item.classList.remove('-disabled')
          item.classList.remove('-active')
        });

        stepOne.forEach(item => {
          item.classList.remove('-disabled')
          item.classList.remove('-active')
        });

        stepTwo.forEach(item => {
          item.classList.remove('-disabled')
          item.classList.remove('-active')
        });

        stepThree.forEach(item => {
          item.classList.remove('-disabled')
          item.classList.remove('-active')
        });

        subSteps.forEach(item => {
          item.classList.remove('-disabled')
          item.classList.remove('-active')
        });

        techs.forEach(item => {
          item.classList.remove('-disabled')
          item.classList.remove('-active')
        });

        slider.classList.remove('-active')

      });
    }
  )
});
    